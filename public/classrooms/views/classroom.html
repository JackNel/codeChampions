<div class="container classroom">
  <div ng-controller="UserController as userCtrl">
    <header-direct logout="userCtrl.logout()"></header-direct>
  </div>
  <h1>Welcome to {{classCtrl.singleClass.className}}</h1>
  <div ng-if="classCtrl.singleClass.owner.username === classCtrl.username" class="teacher-view">
    <section class="row">
      <div class="col-md-12">
        <div class="col-md-1"></div>
        <form class="col-md-3" ng-submit="classCtrl.addStudent(studentName, classCtrl.singleClass.id)">
          <input  class="classRoomInput input" name="studentName" type="text" ng-model="studentName" placeholder="Student to add" value="">
          <input class="btn btn-primary submit" type="submit" value="submit">
        </form>
        <div class="col-md-3"></div>
      </div>
    </section>
    <article class="classroom-student" ng-repeat="student in classCtrl.singleClass.classStudents">
      <div ng-click="showCode = !showCode">
        <h3>{{student.username}}</h3>
        <h5>Lesson 1 Progress: <uib-progressbar animate="false" value="student.lesson1Progress/3 * 100" type="success"><b>{{student.lesson1Progress/3 * 100 | number:0}}%</b></uib-progressbar></h5>
      </div>
      <div class="student-progress" ng-show="showCode">
        <h4>Part 1</h4>
        <p>{{student.game1_1Code}}</p>
      </div>
      <div class="student-progress" ng-show="showCode">
        <h4>Part 2</h4>
        <p>{{student.game1_2Code}}</p>
      </div>
      <div class="student-progress" ng-show="showCode">
        <h4>Part 3</h4>
        <p>{{student.game1_3Code}}</p>
      </div>
    </article>
  </div>
  <h2 class="col-md-3">Notes from Teacher</h2>
  <label ng-if="classCtrl.singleClass.owner.username === classCtrl.username" class="col-md-2" for="my-file-selector">
    <form class="col-md-2 btn" action="upload" enctype="multipart/form-data" method="post">
      <input type="number" value="{{classCtrl.singleClass.id}}" name="id" style="display:none;">
      <span ng-hide="" ng-click="uploadNotes = !uploadNotes" class="btn upload">Upload Notes</span>
      <input ng-show="uploadNotes" id="my-file-selector" name="file" type="file" style="display:none;" value="">
      <input ng-show="uploadNotes" name="displayName" class="classRoomInput input" type="text" placeholder="Name to Display" value="">
      <input ng-show="uploadNotes" class="btn submit" type="submit">
    </form>
  </label>
  <section class="col-md-5 teacher-notes">
    <article ng-repeat="note in classCtrl.notes">
      <a href="/classNotes/{{note.name}}">&#8226 {{note.displayName}}</a>
    </article>
  </section>
  <div class="col-md-12">
    <message-board></message-board>
  </div>
</div>
